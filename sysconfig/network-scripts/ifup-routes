#!/bin/bash
# adds static routes which go through device $1

. /etc/init.d/functions

if [ "$1" = "" ]; then
	echo $"usage: ifup-routes <net-device>"
	exit 1
fi

if [ ! -f /etc/sysconfig/network-scripts/route-$1 ]; then
	exit 0
fi

DEVICE=$1

# Only use the new route-DEV style.
cat "/etc/sysconfig/network-scripts/route-$DEVICE" | while read line; do
    /sbin/ip route add $line
done

#grep "^$DEVICE[[:space:]]" /etc/sysconfig/static-routes | while read device args; do
#	/sbin/route add -$args $device
#done
#grep "^any[[:space:]]" /etc/sysconfig/static-routes | while read ignore args ; do
#        /sbin/route add -$args
#done
